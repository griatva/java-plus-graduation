services:

  stats-db:
    image: postgres:16.1
    container_name: stats-db
    ports:
      - "6541:5432"
    environment:
      - POSTGRES_USER=stat
      - POSTGRES_PASSWORD=stat
      - POSTGRES_DB=stats-db
    healthcheck:
      test: [ "CMD", "pg_isready", "-U", "stat", "-d", "stats-db" ]
      timeout: 5s
      interval: 5s
      retries: 10

  event-db:
    image: postgres:16.1
    container_name: event-db
    ports:
      - "6542:5432"
    environment:
      - POSTGRES_USER=stat
      - POSTGRES_PASSWORD=stat
      - POSTGRES_DB=event-db
    healthcheck:
      test: [ "CMD", "pg_isready", "-U", "stat", "-d", "event-db" ]
      timeout: 5s
      interval: 5s
      retries: 10

  user-db:
    image: postgres:16.1
    container_name: user-db
    ports:
      - "6544:5432"
    environment:
      - POSTGRES_USER=stat
      - POSTGRES_PASSWORD=stat
      - POSTGRES_DB=user-db
    healthcheck:
      test: [ "CMD", "pg_isready", "-U", "stat", "-d", "user-db" ]
      timeout: 5s
      interval: 5s
      retries: 10


  comment-db:
    image: postgres:16.1
    container_name: comment-db
    ports:
      - "6545:5432"
    environment:
      - POSTGRES_USER=stat
      - POSTGRES_PASSWORD=stat
      - POSTGRES_DB=comment-db
    healthcheck:
      test: [ "CMD", "pg_isready", "-U", "stat", "-d", "comment-db" ]
      timeout: 5s
      interval: 5s
      retries: 10

  request-db:
    image: postgres:16.1
    container_name: request-db
    ports:
      - "6546:5432"
    environment:
      - POSTGRES_USER=stat
      - POSTGRES_PASSWORD=stat
      - POSTGRES_DB=request-db
    healthcheck:
      test: [ "CMD", "pg_isready", "-U", "stat", "-d", "request-db" ]
      timeout: 5s
      interval: 5s
      retries: 10